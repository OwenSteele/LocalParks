@model ICollection<ParkModel>
@inject ISelectListService service
<div class="index-filter-form m-1">
    <form id="filter-form-supervisors" asp-controller="Parks" asp-action="Filter" method="get">
        <div class="d-flex flex-wrap flex-row justify-content-between font-weight-bolder w-100">

            <div class="w3-margin-right w3-margin-left w-auto d-inline-block">
                <div class="row">
                    <label>Park name:</label>
                    <input type="text" class="border-dark rounded filter-form-group" name="searchTerm" value="@TempData["Filter"]" />
                </div>
            </div>
            <div class="w3-margin-right w3-margin-left w-auto d-inline-block">
                <div class="row">
                    <label>Postcode:</label>
                    @Html.DropDownList("Postcode",
       new SelectList((System.Collections.IEnumerable)ViewData["Postcodes"], "Value", "Text"), "",
       htmlAttributes: new
       {
           @class = "border-dark rounded filter-form-group",
           name = "postcode",
           style = "min-width: 8%;"
       })
                </div>
            </div>

            <div class="w3-margin-right w3-margin-left w-auto d-inline-block">
                <div class="row">
                    <label>Sort by:</label>
                    @Html.DropDownList("SortBy",
                   new SelectList((System.Collections.IEnumerable)service.GetSortSelectListItems<ParkModel>(), "Value", "Text"), "",
                   htmlAttributes: new
                   {
                       @class = "border-dark rounded filter-form-group",
                       name = "sortBy",
                       style = "min-width: 8%;"
                   })
                </div>
            </div>

            <div class="w3-margin-right w3-margin-left w-auto d-inline-block">
                <label>Open Only:</label>
                <input name="openOnly"
                       type="checkbox"
                       class="border-dark rounded filter-form-group" />
            </div>

            <div class="w-auto">
                <input type="submit" class="btn-outline-light btn-dark btn-light rounded" value="Filter and Sort" />
            </div>
        </div>
    </form>
</div>

@if (TempData["Matches"] != null)
{
    <span class="alert-danger rounded w3-margin-left">@TempData["Matches"]</span>
}

@if (@TempData["Sorted"] != null || @TempData["Filter"] != null)
{
    <form asp-controller="Parks" asp-action="Index" method="get" class="d-inline-flex">
        <p>
            <input type="submit" value="Remove Filters and Sort" class="border-danger text-danger m-1" />
        </p>
    </form>
}