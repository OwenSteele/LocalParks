{"version":3,"sources":["webpack:///ClientApp/app/data/orderItem.ts","webpack:///ClientApp/app/shop/products.component.html","webpack:///ClientApp/app/shop/products.component.ts","webpack:///ClientApp/app/checkout/checkout.component.html","webpack:///ClientApp/app/checkout/checkout.component.ts","webpack:///ClientApp/app/data/shopService.ts","webpack:///ClientApp/environments/environment.ts","webpack:///ClientApp/app/data/order.ts","webpack:///ClientApp/app/app.component.ts","webpack:///ClientApp/app/app.component.html","webpack:///ClientApp/app/app.module.ts","webpack:///ClientApp/app/app-routing.module.ts","webpack:///ClientApp/main.ts","webpack:///ClientApp/app/checkout/order.component.ts","webpack:///ClientApp/app/checkout/order.component.html","webpack:///ClientApp/app/shop/shop.component.ts","webpack:///ClientApp/app/shop/shop.component.html","webpack:///ClientApp/app/login/login.component.html","webpack:///ClientApp/app/login/login.component.ts","webpack:///ClientApp/app/shop/cart.component.html","webpack:///ClientApp/app/shop/cart.component.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["OrderItem","Products","data","getProducts","subscribe","success","products","product","AddItemToOrder","Checkout","router","errorMessage","SignInRequired","getToken","navigate","checkout","err","onCheckout","ShopService","http","datePipe","order","memberships","token","tokenExpiration","Date","undefined","length","creds","post","pipe","expiry","get","dateCreated","orderNumber","transform","toString","headers","response","console","log","JSON","stringify","item","items","find","i","productId","quantity","unitPrice","price","productName","name","productCategory","category","imageId","push","environment","production","Order","orderId","Array","AppComponent","title","AppModule","routes","path","component","AppRoutingModule","forRoot","useHash","enableTracing","bootstrapModule","error","CompletedOrder","clearCart","Shop","Login","username","password","login","onLogin","Cart","webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id"],"mappings":"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","file":"main-es5.js","sourcesContent":["export class OrderItem {\r\n    itemId!: number;\r\n    productId!: number;\r\n    quantity!: number;\r\n    unitPrice!: number;\r\n    productName!: string;\r\n    productCategory!: string;\r\n    imageId!: string;\r\n}","<div class=\"row\">\r\n    <div class=\"shop-product col-md-6\" *ngFor=\"let p of products\">\r\n        <div class=\"p-1 m-2\">\r\n            <div class=\"card bg-dark  text-light h-100\">\r\n                <img src=\"/images/shop/products/{{p.imageId}}.jpg\" class=\"img-fluid\" [alt]=\"p.name\" />\r\n                <h3><strong>{{p.name}}</strong></h3>\r\n                <ul class=\"product-props list-unstyled\">\r\n                    <li><strong>Price</strong>: {{ p.price | currency:\"GBP\":\"symbol\" }}</li>\r\n                    <li><strong>Description</strong>: {{ p.description }}</li>\r\n                </ul>\r\n                <button id=\"buyButton\" class=\"btn btn-success align-bottom\" (click)=\"addProduct(p)\">Add to Cart</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from \"@angular/core\";\r\nimport { ShopService } from \"../data/shopService\";\r\nimport { Product } from \"../data/product\";\r\n\r\n@Component({\r\n    selector: \"shop-products\",\r\n    templateUrl: \"products.component.html\",\r\n    styleUrls: [\"products.component.css\"]\r\n})\r\nexport class Products implements OnInit {\r\n\r\n    public products: Product[];\r\n    public memberships: Product[];\r\n\r\n    constructor(private data: ShopService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.data.getProducts()\r\n            .subscribe(success => {\r\n                if (success) {\r\n                    this.products = this.data.products;\r\n                }\r\n            });\r\n    }\r\n\r\n    addProduct(product: Product) {\r\n        this.data.AddItemToOrder(product);\r\n    }\r\n}","<div class=\"row order-item\">\r\n    <h3>Confirm Order</h3>\r\n    <div class=\"text-danger d-block m-2 p-1 font-weight-bolder\" *ngIf=\"errorMessage\"><i class=\"fa-exclamation\"></i>{{errorMessage}}</div>\r\n    <table class=\"table table-bordered table-hover\">\r\n        <tr *ngFor=\"let o of data.order.items\">\r\n            <td><img src=\"/images/shop/products/{{ o.imageId }}.jpg\" alt=\"{{o.productName}}\" class=\"img-thumbnail checkout-thumb\" /></td>\r\n            <td>{{ o.productName }}</td>\r\n            <td>{{ o.quantity }}</td>\r\n            <td>{{ o.unitPrice|currency:\"GBP\":\"symbol\" }}</td>\r\n            <td>{{ (o.unitPrice * o.quantity)|currency:\"GBP\":\"symbol\"  }}</td>\r\n        </tr>\r\n    </table>\r\n    <div class=\"col-md-4 col-md-offset-8 text-right\">\r\n        <table class=\"table table-condensed\">\r\n            <tr>\r\n                <td class=\"text-right\">Subtotal</td>\r\n                <td class=\"text-right\">{{ data.order.total|currency:\"GBP\":\"symbol\"  }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td class=\"text-right\">Shipping</td>\r\n                <td class=\"text-right\">£ 0.00</td>\r\n            </tr>\r\n            <tr>\r\n                <td class=\"text-right\">Total:</td>\r\n                <td class=\"text-right\">{{ data.order.total|currency:\"GBP\":\"symbol\"  }}</td>\r\n            </tr>\r\n        </table>\r\n        <button class=\"btn btn-success mr-2\" (click)=\"onCheckout()\">Complete Purchase</button>\r\n        <a routerLink=\"/\" class=\"btn btn-outline-danger text-danger ml-2\">Cancel</a>\r\n    </div>\r\n\r\n</div>","import { Component } from \"@angular/core\";\r\nimport { ShopService } from '../data/shopService';\r\nimport { Router } from \"@angular/router\";\r\n\r\n@Component({\r\n    selector: \"checkout\",\r\n    templateUrl: \"checkout.component.html\",\r\n    styleUrls: [\"checkout.component.css\"]\r\n})\r\nexport class Checkout {\r\n\r\n    constructor(public data: ShopService,\r\n        private router: Router) {\r\n    }\r\n\r\n    errorMessage: string = \"\";\r\n\r\n    onCheckout() {\r\n\r\n        if (this.data.SignInRequired) {\r\n            this.data.getToken()\r\n                .subscribe(success => {\r\n                    if (success == false) {\r\n                        this.router.navigate([\"login\"]);\r\n                    }\r\n                })\r\n        }\r\n\r\n\r\n        return this.data.checkout()\r\n            .subscribe(success => {\r\n            if (success) {\r\n                this.router.navigate([\"order\"]);\r\n            }\r\n        }, err => this.errorMessage = \"Failed to checkout.\");\r\n    }\r\n}","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable, of } from \"rxjs\"\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { Product } from \"./product\";\r\nimport { Order} from \"./order\";\r\nimport { OrderItem } from \"./orderItem\";\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Injectable()\r\nexport class ShopService {\r\n\r\n\r\n    public order: Order = new Order();\r\n    public products: Product[] = [];\r\n    public memberships: Product[] = [];\r\n\r\n    constructor(private http: HttpClient,\r\n    private datePipe: DatePipe) {\r\n    }\r\n\r\n    private token: string = 'value';\r\n    private tokenExpiration: Date = new Date('0001-01-01T00:00:00Z');\r\n\r\n    public get SignInRequired(): boolean {\r\n        return this.token === undefined ||\r\n            this.token === 'value' ||\r\n            this.token.length == 0 ||\r\n            this.tokenExpiration >= new Date;\r\n    }\r\n\r\n    login(creds: any): Observable<boolean> {\r\n        return this.http\r\n            .post(\"/api/account/createtoken\", creds)\r\n            .pipe(map((data: any) => {\r\n                this.token = data.token;\r\n                this.tokenExpiration = data.expiry;\r\n                return true;\r\n            }));\r\n    }\r\n\r\n    getToken(): Observable<boolean> {\r\n        return this.http\r\n            .get(\"/api/account/getshoptoken\")\r\n            .pipe(map((data: any) => {\r\n                this.token = data.token;\r\n                this.tokenExpiration = data.expiry;\r\n                return true;\r\n            }), catchError(err => {\r\n                return of(false);\r\n            }));\r\n    }\r\n\r\n    public checkout() {\r\n\r\n        this.order.dateCreated = new Date();\r\n        this.order.orderNumber = this.datePipe.transform(new Date(), \"yyyy-MM-dd_HH:mm:ss:SSS\")?.toString()!;\r\n\r\n        return this.http.post(\"/api/shop/orders\", this.order, {\r\n            headers: new HttpHeaders({\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${this.token}`\r\n            })\r\n        })\r\n            .pipe(map(response => {\r\n                console.log(JSON.stringify(response));\r\n                return true;\r\n                // add in page redirect\r\n            }));\r\n    }\r\n\r\n    public clearCart() {\r\n        this.order = new Order();\r\n    }\r\n\r\n    getProducts(): Observable<boolean> {\r\n        return this.http.get(\"/api/shop/products\")\r\n            .pipe(map((data: any) => {\r\n                this.products = data;\r\n                return true;\r\n            }));\r\n    }\r\n\r\n    getMemberships(): Observable<boolean> {\r\n        return this.http.get(\"/api/shop/products/memberships\")\r\n            .pipe(map((data: any) => {\r\n                this.memberships = data;\r\n                return true;\r\n            }));\r\n    }\r\n\r\n    public AddItemToOrder(product: Product) {\r\n\r\n        let item: OrderItem = this.order.items.find(i => i.productId == product.productId)!;\r\n\r\n        if (item) {\r\n            item.quantity++;\r\n        }\r\n        else {\r\n            item = new OrderItem();\r\n            item.productId = product.productId;\r\n            item.unitPrice = product.price;\r\n            item.productName = product.name;\r\n            item.productCategory = product.category;\r\n            item.quantity = 1;\r\n            item.imageId = product.imageId;\r\n\r\n            this.order.items.push(item);\r\n        }\r\n\r\n    }\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import * as _ from \"lodash\";\r\nimport { OrderItem } from \"./orderItem\"\r\n\r\nexport class Order {\r\n    orderId: number = 0;\r\n    dateCreated!: Date;\r\n    orderNumber: string = '';\r\n    items: Array<OrderItem> = new Array<OrderItem>();\r\n\r\n    get total(): number {\r\n        return _.sum(_.map(this.items,\r\n            i => i.unitPrice * i.quantity\r\n        ));\r\n    };\r\n}","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'shop-index',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'Client-App';\r\n}\r\n","<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpClientModule } from \"@angular/common/http\";\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\n\r\nimport { CompletedOrder } from \"./checkout/order.component\"\r\nimport { AppComponent } from './app.component';\r\nimport { Checkout } from \"./checkout/checkout.component\";\r\nimport { Products } from \"./shop/products.component\";\r\nimport { Login } from \"./login/login.component\";\r\nimport { Cart } from \"./shop/cart.component\";\r\nimport { Shop } from \"./shop/shop.component\";\r\n\r\nimport { ShopService } from \"./data/shopService\";\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@NgModule({\r\n  declarations: [\r\n        AppComponent,\r\n        Shop,\r\n        Products,\r\n        Cart,\r\n        Checkout,\r\n        Login,\r\n        CompletedOrder\r\n    ],\r\n    exports: [\r\n        AppComponent\r\n    ],\r\n    imports: [\r\n        HttpClientModule,\r\n        BrowserModule,\r\n        AppRoutingModule,\r\n        FormsModule\r\n  ],\r\n    providers: [\r\n        ShopService,\r\n        DatePipe\r\n    ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { Shop } from \"./shop/shop.component\"\r\nimport { Checkout } from \"./checkout/checkout.component\"\r\nimport { Login } from \"./login/login.component\"\r\nimport { CompletedOrder } from \"./checkout/order.component\"\r\n\r\nconst routes: Routes = [\r\n    { path: \"\", component: Shop },\r\n    { path: \"checkout\", component: Checkout },\r\n    { path: \"login\", component: Login },\r\n    { path: \"order\", component: CompletedOrder }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forRoot(routes, {\r\n        useHash: true,\r\n        enableTracing: true\r\n    })],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","import { Component } from \"@angular/core\"\r\nimport { Order } from \"../data/order\";\r\nimport { ShopService } from \"../data/shopService\";\r\n\r\n@Component({\r\n    selector: \"completed-order\",\r\n    templateUrl: \"order.component.html\",\r\n    styleUrls: [\"checkout.component.css\"]\r\n})\r\n\r\nexport class CompletedOrder {\r\n\r\n    public order: Order = new Order();\r\n\r\n    constructor(public data: ShopService) {\r\n        this.order = data.order;\r\n        console.log(JSON.stringify(this.order));\r\n        data.clearCart();\r\n        console.log(JSON.stringify(this.order));\r\n    }\r\n}","<div class=\"row order-item\">\r\n    <h3>Your order</h3>\r\n\r\n    <div class=\"col-md-4 col-md-offset-8 text-right\">\r\n        <table class=\"table table-condensed\">\r\n            <tr>\r\n                <td class=\"text-right\">Date Created</td>\r\n                <td class=\"text-right\">{{ order.dateCreated }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td class=\"text-right\">Expected delivery time</td>\r\n                <td class=\"text-right\">3 working days</td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n\r\n    <table class=\"table table-bordered table-hover\">\r\n        <tr *ngFor=\"let o of order.items\">\r\n            <td><img src=\"/images/shop/products/{{ o.imageId }}.jpg\" alt=\"{{o.productName}}\" class=\"img-thumbnail checkout-thumb\" /></td>\r\n            <td>{{ o.productName }}</td>\r\n            <td>{{ o.quantity }}</td>\r\n            <td>{{ o.unitPrice|currency:\"GBP\":\"symbol\" }}</td>\r\n            <td>{{ (o.unitPrice * o.quantity)|currency:\"GBP\":\"symbol\"  }}</td>\r\n        </tr>\r\n    </table>\r\n\r\n    <div class=\"col-md-4 col-md-offset-8 text-right\">\r\n        <table class=\"table table-condensed\">\r\n            <tr>\r\n                <td class=\"text-right\">Total:</td>\r\n                <td class=\"text-right\">{{ order.total|currency:\"GBP\":\"symbol\"  }}</td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n\r\n</div>","import { Component } from \"@angular/core\";\r\n\r\n@Component({\r\n    selector: \"shop-home\",\r\n    templateUrl: \"shop.component.html\"\r\n})\r\nexport class Shop {\r\n    title = \"Shop\";\r\n}","<div class=\"row\">\r\n    <div class=\"col-md-3 col-lg-3 col-sm-10\">\r\n        <div class=\"card bg-light p-2 w-auto\">\r\n            <h4>Your Cart</h4>\r\n            <user-cart></user-cart>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-md-7 col-lg-7 col-sm-10\">\r\n        <h3> {{title}} </h3>\r\n        <shop-products>Fetching our products!</shop-products>\r\n    </div>\r\n</div>","<div class=\"row\">\r\n  <div class=\"col-md-4 col-md-offset-4\">\r\n     \r\n    <form (submit)=\"onLogin()\" #theForm=\"ngForm\" novalidate>\r\n      <div class=\"form-group\" >\r\n        <label for=\"username\">Username</label>\r\n        <input type=\"text\" class=\"form-control\" name=\"username\" [(ngModel)]=\"creds.username\" #username=\"ngModel\" required/>\r\n          <div class=\"text-danger\" *ngIf=\"username.invalid\"></div>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"password\">Password</label>\r\n        <input type=\"password\" class=\"form-control\" name=\"password\"  [(ngModel)]=\"creds.password\"/>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <input type=\"submit\" class=\"btn btn-success\" value=\"Login\" [disabled]=\"theForm.invalid\"/>\r\n        <a routerLink=\"/\" class=\"btn btn-default\">Cancel</a>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>","import { Component } from \"@angular/core\";\r\nimport { ShopService } from \"../data/shopService\";\r\nimport { Router } from \"@angular/router\";\r\n\r\n@Component({\r\n    selector: \"login\",\r\n    templateUrl: \"login.component.html\",\r\n    styleUrls: []\r\n})\r\n\r\nexport class Login {\r\n\r\n\r\n    constructor(private data: ShopService, private router: Router) {\r\n\r\n    }\r\n\r\n    errorMessage: string = \"\";\r\n    public creds = {\r\n        username: \"\",\r\n        password: \"\"\r\n    }\r\n\r\n    onLogin() {\r\n        this.data.login(this.creds)\r\n            .subscribe(success => {\r\n                if (this.data.order.items.length == 0) {\r\n                    this.router.navigate([\"\"]);\r\n                }\r\n                else {\r\n                    this.router.navigate([\"checkout\"]);\r\n                }\r\n            }, err => this.errorMessage = \"Failed to login.\");\r\n    }\r\n\r\n}","<table class=\"table table-condensed table-hover table-responsive\">\r\n    <thead>\r\n        <tr class=\"font-weight-bolder\">\r\n            <td>Item</td>\r\n            <td># Price</td>\r\n            <td>Subtotal</td>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr *ngFor=\"let i of data.order.items\">\r\n            <td>{{i.productName}}</td>\r\n            <td>{{i.quantity}}x {{i.unitPrice | currency:\"GBP\":\"symbol\" }}</td>\r\n            <td>{{ (i.unitPrice * i.quantity) | currency:\"GBP\":\"symbol\" }}</td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n\r\n<div>\r\n    <span class=\"font-weight-bolder\">Number of items:</span>\r\n    {{ data.order.items.length }}\r\n</div>\r\n<div>\r\n    <span class=\"font-weight-bolder\">Subtotal:</span>\r\n    {{ data.order.total | currency:\"GBP\":\"symbol\" }}\r\n</div>\r\n<div>\r\n    <button *ngIf=\"data.order.total > 0\" (click)=\"onCheckout()\" class=\"btn btn-info m-1 p-1 \">Checkout</button>\r\n</div>","import { Component } from \"@angular/core\";\r\nimport { ShopService } from \"../data/shopService\";\r\nimport { Router } from \"@angular/router\";\r\n\r\n@Component({\r\n    selector: \"user-cart\",\r\n    templateUrl: \"cart.component.html\",\r\n    styleUrls: []\r\n})\r\nexport class Cart {\r\n    constructor(public data: ShopService,\r\n        private router: Router) { }\r\n\r\n    onCheckout() {\r\n        if (this.data.SignInRequired) {\r\n            this.data.getToken()\r\n            .subscribe(success => {\r\n                if (success) {\r\n                    this.router.navigate([\"checkout\"]);\r\n                }\r\n                else {\r\n                    this.router.navigate([\"login\"]);\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            this.router.navigate([\"\"]);            \r\n        }\r\n    }\r\n}","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}